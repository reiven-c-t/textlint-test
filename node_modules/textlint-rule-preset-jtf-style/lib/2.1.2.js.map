{"version":3,"sources":["../src/2.1.2.js"],"names":["context","Syntax","RuleError","report","getSource","Str","node","text","strArray","stringToArray","index","length","item","test","value","match"],"mappings":"AAAA;AACA;AACA;;;;;;;;;;kBAae,UAAUA,OAAV,EAAmB;AAAA,QACzBC,MADyB,GACeD,OADf,CACzBC,MADyB;AAAA,QACjBC,SADiB,GACeF,OADf,CACjBE,SADiB;AAAA,QACNC,MADM,GACeH,OADf,CACNG,MADM;AAAA,QACEC,SADF,GACeJ,OADf,CACEI,SADF;;AAE9B,+BACKH,OAAOI,GADZ,YACiBC,IADjB,EACsB;AACd,YAAI,CAAC,iCAAkBA,IAAlB,EAAwBN,OAAxB,CAAL,EAAuC;AACnC;AACH;AACD,YAAMO,OAAOH,UAAUE,IAAV,CAAb;AACA,YAAME,WAAWC,cAAcF,IAAd,CAAjB;AACA,aAAK,IAAIG,QAAQ,CAAjB,EAAoBA,QAAQF,SAASG,MAArC,EAA6CD,OAA7C,EAAsD;AAClD,gBAAME,OAAOJ,SAASE,KAAT,CAAb;AACA,gBAAI,oBAAYG,IAAZ,CAAiBD,IAAjB,KAA0B,CAAC,6BAAOA,IAAP,CAA/B,EAA6C;AACzCT,uBAAOG,IAAP,EAAa,IAAIJ,SAAJ,CAAc,MAAMU,IAAN,GAAa,kBAA3B,EAA+C;AACxDF;AADwD,iBAA/C,CAAb;AAGH;AACJ;AACJ,KAfL;AAiBH,C;;AA3BD;;AACA;;AACA;;;;AACA;AACA,SAASD,aAAT,CAAuBK,KAAvB,EAA8B;AAC1B,WAAOA,MAAMC,KAAN,CAAY,kDAAZ,KAAmE,EAA1E;AACH","file":"2.1.2.js","sourcesContent":["// LICENSE : MIT\n\"use strict\";\n/*\n2.1.2.漢字\n漢字は「全角」で表記します。漢字の使用は、平成 22 年 11 月 30 日内閣告示第 2 号の「常用漢字表」に原則として準じます。\nただし、「常用漢字表」にない漢字であっても実務翻訳で慣用的に用いられる語には漢字を使います。\n */\nimport {isUserWrittenNode} from \"./util/node-util\";\nimport {isJoyo} from \"sorted-joyo-kanji\";\nimport {kanjiRegExp}from \"./util/regexp\";\n// http://qiita.com/YusukeHirao/items/2f0fb8d5bbb981101be0\nfunction stringToArray(value) {\n    return value.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[^\\uD800-\\uDFFF]/g) || [];\n}\n\nexport default function (context) {\n    let {Syntax, RuleError, report, getSource} = context;\n    return {\n        [Syntax.Str](node){\n            if (!isUserWrittenNode(node, context)) {\n                return;\n            }\n            const text = getSource(node);\n            const strArray = stringToArray(text);\n            for (let index = 0; index < strArray.length; index++) {\n                const item = strArray[index];\n                if (kanjiRegExp.test(item) && !isJoyo(item)) {\n                    report(node, new RuleError(\"「\" + item + \"」は「常用漢字表」外の漢字です。\", {\n                        index\n                    }));\n                }\n            }\n        }\n    }\n}\n"]}
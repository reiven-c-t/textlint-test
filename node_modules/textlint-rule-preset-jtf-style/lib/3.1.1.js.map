{"version":3,"sources":["../src/3.1.1.js"],"names":["reporter","context","Syntax","RuleError","report","fixer","getSource","Str","node","text","betweenHanAndZen","betweenZenAndHan","reportMatch","match","index","fix","replaceTextRange","forEach","linter"],"mappings":"AAAA;AACA;AACA;;;;;;;;;;;AAMA;;AACA;;;;AACA,SAASA,QAAT,CAAkBC,OAAlB,EAA2B;AAAA,QAClBC,MADkB,GAC6BD,OAD7B,CAClBC,MADkB;AAAA,QACVC,SADU,GAC6BF,OAD7B,CACVE,SADU;AAAA,QACCC,MADD,GAC6BH,OAD7B,CACCG,MADD;AAAA,QACSC,KADT,GAC6BJ,OAD7B,CACSI,KADT;AAAA,QACgBC,SADhB,GAC6BL,OAD7B,CACgBK,SADhB;;AAEvB,+BACKJ,OAAOK,GADZ,YACiBC,IADjB,EACsB;AACd,YAAI,CAAC,iCAAkBA,IAAlB,EAAwBP,OAAxB,CAAL,EAAuC;AACnC;AACH;AACD,YAAIQ,OAAOH,UAAUE,IAAV,CAAX;AACA;AACA,YAAIE,mBAAmB,sCAAqBD,IAArB,EAA2B,qGAA3B,CAAvB;AACA,YAAIE,mBAAmB,sCAAqBF,IAArB,EAA2B,qGAA3B,CAAvB;AACA,YAAMG,cAAc,SAAdA,WAAc,CAACC,KAAD,EAAW;AAAA,gBACpBC,KADoB,GACXD,KADW,CACpBC,KADoB;;AAE3BV,mBAAOI,IAAP,EAAa,IAAIL,SAAJ,CAAc,+BAAd,EAA+C;AACxDW,uBAAOD,MAAMC,KAD2C;AAExDC,qBAAKV,MAAMW,gBAAN,CAAuB,CAACF,KAAD,EAAQA,QAAQ,CAAhB,CAAvB,EAA2C,EAA3C;AAFmD,aAA/C,CAAb;AAIH,SAND;AAOAJ,yBAAiBO,OAAjB,CAAyBL,WAAzB;AACAD,yBAAiBM,OAAjB,CAAyBL,WAAzB;AACH,KAlBL;AAoBH;kBACc;AACXM,YAAQlB,QADG;AAEXK,WAAOL;AAFI,C","file":"3.1.1.js","sourcesContent":["// LICENSE : MIT\n\"use strict\";\n/*\n3.1.1. 全角文字と半角文字の間\n原則として、全角文字と半角文字の間にスペースを入れません。\n\n。ただしカタカナ複合語の場合を除きます。「2.1.7 カタカナ複合語」を参照してください。\n */\nimport {isUserWrittenNode} from \"./util/node-util\";\nimport {matchCaptureGroupAll} from \"match-index\";\nfunction reporter(context) {\n    let {Syntax, RuleError, report, fixer, getSource} = context;\n    return {\n        [Syntax.Str](node){\n            if (!isUserWrittenNode(node, context)) {\n                return;\n            }\n            let text = getSource(node);\n            // アルファベットと全角の間は半角スペースではない\n            let betweenHanAndZen = matchCaptureGroupAll(text, /[A-Za-z0-9]( )(?:[\\u3400-\\u4DBF\\u4E00-\\u9FFF\\uF900-\\uFAFF]|[\\uD840-\\uD87F][\\uDC00-\\uDFFF]|[ぁ-んァ-ヶ])/);\n            let betweenZenAndHan = matchCaptureGroupAll(text, /(?:[\\u3400-\\u4DBF\\u4E00-\\u9FFF\\uF900-\\uFAFF]|[\\uD840-\\uD87F][\\uDC00-\\uDFFF]|[ぁ-んァ-ヶ])( )[A-Za-z0-9]/);\n            const reportMatch = (match) => {\n                const {index} = match;\n                report(node, new RuleError(\"原則として、全角文字と半角文字の間にスペースを入れません。\", {\n                    index: match.index,\n                    fix: fixer.replaceTextRange([index, index + 1], \"\")\n                }));\n            };\n            betweenHanAndZen.forEach(reportMatch);\n            betweenZenAndHan.forEach(reportMatch);\n        }\n    }\n}\nexport default {\n    linter: reporter,\n    fixer: reporter\n}"]}
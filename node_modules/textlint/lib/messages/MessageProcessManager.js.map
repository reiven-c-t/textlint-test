{"version":3,"sources":["../../src/messages/MessageProcessManager.js"],"names":["MessageProcessManager","processes","_processors","process","push","index","indexOf","splice","messages","originalMessages","reduce","filter"],"mappings":"AAAA;AACA;;;;;;;;;;IACqBA,qB;AACjB;;;;AAIA,qCAA4B;AAAA,YAAhBC,SAAgB,uEAAJ,EAAI;;AAAA;;AACxB,aAAKC,WAAL,GAAmBD,SAAnB;AACH;;;;4BAEGE,O,EAAS;AACT,iBAAKD,WAAL,CAAiBE,IAAjB,CAAsBD,OAAtB;AACH;;;+BAEMA,O,EAAS;AACZ,gBAAME,QAAQ,KAAKH,WAAL,CAAiBI,OAAjB,CAAyBH,OAAzB,CAAd;AACA,gBAAIE,UAAU,CAAC,CAAf,EAAkB;AACd,qBAAKH,WAAL,CAAiBK,MAAjB,CAAwBF,KAAxB,EAA+B,CAA/B;AACH;AACJ;;AAED;;;;;;;;gCAKQG,Q,EAAU;AACd,gBAAMC,mBAAmBD,QAAzB;AACA,gBAAI,KAAKN,WAAL,KAAqB,CAAzB,EAA4B;AACxB,uBAAOO,gBAAP;AACH;AACD,mBAAO,KAAKP,WAAL,CAAiBQ,MAAjB,CAAwB,UAACF,QAAD,EAAWG,MAAX,EAAsB;AACjD,uBAAOA,OAAOH,QAAP,CAAP;AACH,aAFM,EAEJC,gBAFI,CAAP;AAGH;;;;;;kBAjCgBT,qB","file":"MessageProcessManager.js","sourcesContent":["// LICENSE : MIT\n\"use strict\";\nexport default class MessageProcessManager {\n    /**\n     * create MessageProcessManager with processes\n     * @param {function(messages: Array)[]} [processes]\n     */\n    constructor(processes = []) {\n        this._processors = processes;\n    }\n\n    add(process) {\n        this._processors.push(process);\n    }\n\n    remove(process) {\n        const index = this._processors.indexOf(process);\n        if (index !== -1) {\n            this._processors.splice(index, 1);\n        }\n    }\n\n    /**\n     * process `messages` with registered processes\n     * @param {TextLintMessage[]} messages\n     * @returns {TextLintMessage[]}\n     */\n    process(messages) {\n        const originalMessages = messages;\n        if (this._processors === 0) {\n            return originalMessages;\n        }\n        return this._processors.reduce((messages, filter) => {\n            return filter(messages);\n        }, originalMessages);\n    }\n}\n"]}
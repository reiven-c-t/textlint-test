{"version":3,"sources":["../src/textlint-rule-ja-no-successive-word.js"],"names":[],"mappings":";AACA;;;;AACA,IAAM,WAAW,QAAQ,WAAR,EAAqB,QAAtC;AACA,OAAO,OAAP,GAAiB,UAAS,OAAT,EAAkB;AAAA,QACxB,MADwB,GACgB,OADhB,CACxB,MADwB;AAAA,QAChB,SADgB,GACgB,OADhB,CAChB,SADgB;AAAA,QACL,MADK,GACgB,OADhB,CACL,MADK;AAAA,QACG,SADH,GACgB,OADhB,CACG,SADH;;AAE/B,+BACK,OAAO,GADZ,YACiB,IADjB,EACsB;AACd,YAAM,OAAO,UAAU,IAAV,CAAb;AACA,eAAO,SAAS,IAAT,EAAe,IAAf,CAAoB,kBAAU;AACjC,gBAAI,YAAY,EAAhB;AACA,mBAAO,OAAP,CAAe,iBAAS;AACpB,oBAAI,UAAU,YAAV,KAA2B,MAAM,YAArC,EAAmD;AAC/C,wBAAM,QAAQ,KAAK,GAAL,CAAS,MAAM,aAAN,GAAsB,CAA/B,EAAkC,CAAlC,CAAd;AACA,2BAAO,IAAP,EAAa,IAAI,SAAJ,QAAkB,MAAM,YAAxB,yBAAyD;AAClE;AADkE,qBAAzD,CAAb;AAGH;AACD,4BAAY,KAAZ;AACH,aARD;AASH,SAXM,CAAP;AAYH,KAfL;AAiBH,CAnBD","file":"textlint-rule-ja-no-successive-word.js","sourcesContent":["// LICENSE : MIT\n\"use strict\";\nconst tokenize = require(\"kuromojin\").tokenize;\nmodule.exports = function(context) {\n    const {Syntax, RuleError, report, getSource} = context;\n    return {\n        [Syntax.Str](node){\n            const text = getSource(node);\n            return tokenize(text).then(tokens => {\n                let prevToken = {};\n                tokens.forEach(token => {\n                    if (prevToken.surface_form === token.surface_form) {\n                        const index = Math.max(token.word_position - 1, 0);\n                        report(node, new RuleError(`\"${token.surface_form}\" が連続して2回使われています。`, {\n                            index\n                        }));\n                    }\n                    prevToken = token;\n                });\n            });\n        }\n    }\n};"]}